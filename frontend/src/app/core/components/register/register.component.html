<main class="form-signin w-100 mt-5 m-auto text-center">
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <img class="mb-4" src="./assets/logo_perscholas.png" alt="" width="72" height="57">
        <h1 class="mb-3 display-5">Register</h1>
        <!-- username -->
        <div class="form-floating mb-1">
          <label for="username">User Name</label>
          <input type="text" class="form-control" id="username"
            formControlName="username">
          <div class="alert alert-danger" *ngIf="registrationForm.get('username')?.invalid
            && registrationForm.get('username')?.touched">
            <div *ngIf="registrationForm.get('username')?.errors?.['required']">
              User name is required
            </div>
            <div *ngIf="registrationForm.get('username')?.errors?.['minlength']">
              User name must be at least 5 characters long
            </div>
            <div *ngIf="registrationForm.get('username')?.errors?.['maxlength']">
              User name should not be more than 20 characters long
            </div>
          </div>
        </div>
        <!-- firstname -->
        <div class="form-floating mb-1">
          <label for="firstName">First Name</label>
          <input type="text" class="form-control" id="firstName"
            formControlName="firstName">
          <div class="alert alert-danger" *ngIf="registrationForm.get('firstName')?.invalid
            && registrationForm.get('firstName')?.touched">
            <div *ngIf="registrationForm.get('firstName')?.errors?.['required']">
              first name is required
            </div>
            <div *ngIf="registrationForm.get('firstName')?.errors?.['minlength']">
              First name must be at least 3 characters long
            </div>
          </div>
        </div>
        <!-- lastname -->
        <div class="form-floating mb-1">
          <label for="lastName">Last name</label>
          <input type="text" class="form-control" id="lastName"
            formControlName="lastName">
          <div class="alert alert-danger" *ngIf="registrationForm.get('lastName')?.invalid
            && registrationForm.get('lastName')?.touched">
            <div *ngIf="registrationForm.get('lastName')?.errors?.['required']">
              Last name is required
            </div>
            <div *ngIf="registrationForm.get('lastName')?.errors?.['minlength']">
              Last name must be at least 3 characters long
            </div>
          </div>
        </div>
        <!-- password -->
        <div class="form-floating mb-1">
          <label for="email">email</label>
          <input type="email" class="form-control" id="email"
          formControlName="email">
          <div class="alert alert-danger" *ngIf="registrationForm.get('email')?.invalid
              && registrationForm.get('email')?.touched">
            Please enter a valid email
          </div>
        </div>
        <!-- password -->
        <div class="form-floating mb-1">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password"
          formControlName="password">
          <div class="alert alert-danger" *ngIf="registrationForm.get('password')?.invalid
            && registrationForm.get('password')?.touched">
            <div *ngIf="registrationForm.get('password')?.errors?.['required']">
              Password is required
            </div>
            <div *ngIf="registrationForm.get('password')?.errors?.['minlength']">
              Password must be at least 8 characters long
            </div>
          </div>
        </div>
        <!-- course -->
        <div class="form-floating mb-1">
          <label for="course">Course</label>
          <input type="text" class="form-control" id="course"
            formControlName="course">
          <div class="alert alert-danger" *ngIf="registrationForm.get('course')?.invalid
            && registrationForm.get('course')?.touched">
            <div *ngIf="registrationForm.get('course')?.errors?.['required']">
             Course is required
            </div>
          </div>
        </div>

      <!-- campus -->
      <div class="form-floating mb-1">
        <label for="campus">Campus</label>
        <input type="text" class="form-control" id="campus"
          formControlName="campus">
      </div>

        <!-- user roles -->
        <div class="form-floating mb-1">
          <label>User Roles</label>
            <div class="form-check"
            *ngFor="let role of registrationForm.get('roleSelection')?.['controls']; let i = index">
              <label class="form-check-label">
                  <input type="checkbox" class="form-check-input"
                  [formControl]="role">
                  {{roles[i].roleName}}
              </label>
            </div>
        </div>
        <button type="submit" [disabled]="registrationForm.invalid" class="w-100 btn btn-lg btn-success">Sign Up</button>
        <div class="alert alert-warning" *ngIf="submitted && !isRegistered">
          Signup failed- {{ errorMessage }}
        </div>
      </form>
      <div class="alert alert-success" *ngIf="isRegistered">
        Your registration is successful!
      </div>
      <p class="mt-5 mb-3 text-muted">S/Z &copy; 2022</p>
</main>
